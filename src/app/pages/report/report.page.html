<ion-content fullscreen id="main">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="dark" defaultHref="/"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
  <section class="section pp-scrollable contact active ">
    <div class="display-table">
      <div class="display-content">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-12 animated fadeIn mb-5 mb-lg-3">
              <div class="text-center title">
                <h2 class="text-dark">AUI <span class="base-color">Visits </span></h2>
                <p class="text-muted animated fadeIn mb-3 max-width-450"> You have {{dataSource.data.length}} recorded
                  visits</p>
              </div>
            </div>
          </div>
          <div class="row mt-5 pb-5 pt-5 mt-lg-4 pt-lg-4 justify-content-center">
            <div class="col-sm mb-5 mb-5 mx-auto animated fadeInUp justify-content-center d-flex">
              <div class="table-responsive visitor-table">
                <div class="row">
                  <div class="col">
                    <mat-form-field class="base-color" appearance="outline">
                      <mat-label>Smart Search</mat-label>
                      <input autofocus autocomplete="new-password" matInput (keyup)="applyFilter($event.target.value)"
                        placeholder="Example keywords:   'lady',    'adult',    '08024567890'">
                      <mat-icon matSuffix>search</mat-icon>
                    </mat-form-field>
                  </div>
                  <div class="col-1 text-center">
                    <app-export-as-btn [datasource]="dataSource" fileName="Visitors" tableID="visitor-table">
                    </app-export-as-btn>
                  </div>
                  <div class="col-1 text-center">
                    <button (click)="deleteRecords()" class="pt-2" mat-icon-button
                      aria-label="Example icon button with a vertical three dot icon">
                      <mat-icon>delete_forever</mat-icon>
                    </button>
                  </div>
                </div>

                <table id="visitor-table" mat-table [dataSource]="dataSource" class="" matSort>
                  <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns; let i=index">
                    <th class="base-color" mat-header-cell *matHeaderCellDef mat-sort-header>
                      <small style="font-weight: 600;">{{tableHeaders[i] | uppercase}}</small>
                    </th>
                    <ng-container *ngIf="column !== 'expression'">
                      <td mat-cell *matCellDef="let element">
                        {{element[column]}}
                      </td>
                    </ng-container>
                    <ng-container *ngIf="column === 'expression'">
                      <td mat-cell *matCellDef="let element">
                        {{expressionOptions[element[column]]}}
                      </td>
                    </ng-container>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                  <tr data-toggle="modal" data-target="#buy" class="visitor-row" mat-row
                    *matRowDef="let row; columns: displayedColumns;">
                  </tr>
                </table>
                <mat-paginator class="mt-4" [pageSizeOptions]="[ 10, 20]" showFirstLastButtons></mat-paginator>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="fixed-bottom mx-auto mb-3 text-center">
      <div class="row justify-content-center">
        <div class="col">
          By Michael <span style="font-weight: 600;" class="base-color"> Madume </span>
        </div>
      </div>
    </div>

  </section>

</ion-content>